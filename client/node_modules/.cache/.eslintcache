[{"/Users/anthonydike/code/like-google-docs/client/src/index.js":"1","/Users/anthonydike/code/like-google-docs/client/src/App.js":"2","/Users/anthonydike/code/like-google-docs/client/src/Editor.js":"3"},{"size":285,"mtime":1649522514950,"results":"4","hashOfConfig":"5"},{"size":224,"mtime":1649437094093,"results":"6","hashOfConfig":"5"},{"size":1791,"mtime":1649778032636,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","suppressedMessages":"10","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"11"},"1odcg9s",{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15","usedDeprecatedRules":"11"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},"/Users/anthonydike/code/like-google-docs/client/src/index.js",[],[],["20","21"],"/Users/anthonydike/code/like-google-docs/client/src/App.js",["22","23","24"],[],"import './App.css';\nimport {useState, useEffect, useRef} from 'react'\nimport Editor from './Editor';\n\n\nfunction App() {\n\n  return (\n    <div>\n      <h1>Hello</h1>\n      <Editor />\n    </div>\n    \n  );\n}\n\nexport default App;\n","/Users/anthonydike/code/like-google-docs/client/src/Editor.js",["25","26"],[],"import React, {useEffect, useRef, useCallback, useState} from 'react'\nimport Quill from 'quill';\nimport \"quill/dist/quill.snow.css\"\nimport {io} from \"socket.io-client\"\n\nfunction Editor() {\n  const [quill, setQuill] = useState()\n  const [socket, setSocket] = useState()\n\n  const editorRef = useCallback((editorWrapper) => {\n    \n    if (editorWrapper === null) return\n    \n    const editorDiv = document.createElement('div')\n\n    editorWrapper.innerHTML = \"\"\n    editorWrapper.append(editorDiv);\n    const quillInstance = new Quill(editorDiv, {theme: 'snow'})\n    setQuill(quillInstance)\n\n    \n    \n    // socket.on('editedContent', (editedContent) => {\n    //   quill.setContents(editedContent)\n    // })\n\n    \n  }, []);\n\n  // TODO:\n  // - React Router in the frontend\n  // - Think more about MongoDB (Atlas) vs SQL for this\n\n\n\n  // SETTING UP THE SOCKET CONNECTION\n  useEffect(() => {\n    const socketInstance = io(\"http://localhost:3001\")\n\n    setSocket(socketInstance)\n    \n    return () => {\n      socketInstance.disconnect()\n    }\n  },[])\n\n  // SEND CHANGES\n  useEffect(() => {\n    if (!socket || !quill) return\n\n    const handleChange = (delta, oldDelta, source) => {\n      if (source != 'user') return\n      socket.emit('send-changes', delta)\n    }\n    \n    quill.on('text-change', handleChange)\n\n    return () => {\n      quill.off('text-change', handleChange)\n    }\n  }, [quill, socket])\n\n  // RECIEVE CHANGES\n  useEffect(() => {\n     if (!socket || !quill) return\n\n     const handleChange = (delta) => {\n      quill.updateContents(delta)\n    }\n\n    socket.on('recieve-changes', handleChange)\n  \n    return () => {\n      socket.off('recieve-changes', handleChange)\n    }\n  }, [quill, socket])\n  \n\n  return (\n    <div ref={editorRef} id='container'></div>\n  )\n}\n\nexport default Editor",{"ruleId":"27","replacedBy":"28"},{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","severity":1,"message":"32","line":2,"column":9,"nodeType":"33","messageId":"34","endLine":2,"endColumn":17},{"ruleId":"31","severity":1,"message":"35","line":2,"column":19,"nodeType":"33","messageId":"34","endLine":2,"endColumn":28},{"ruleId":"31","severity":1,"message":"36","line":2,"column":30,"nodeType":"33","messageId":"34","endLine":2,"endColumn":36},{"ruleId":"31","severity":1,"message":"36","line":1,"column":27,"nodeType":"33","messageId":"34","endLine":1,"endColumn":33},{"ruleId":"37","severity":1,"message":"38","line":52,"column":18,"nodeType":"39","messageId":"40","endLine":52,"endColumn":20},"no-native-reassign",["41"],"no-negated-in-lhs",["42"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useRef' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]